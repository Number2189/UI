local utils = loadstring(game:HttpGet("https://raw.githubusercontent.com/Number2189/UI/refs/heads/main/Utils"))()

local sliders = {}

function sliders.Create(parent, theme, text, min, max, default, callback, step)
	local slider = Instance.new("Frame")
	slider.Name = "Slider"
	slider.Parent = parent
	slider.BackgroundColor3 = Color3.fromRGB(28, 28, 33)
	slider.BorderSizePixel = 0
	slider.Size = UDim2.new(1, 0, 0, 36)
	
	local sliderCorner = Instance.new("UICorner")
	sliderCorner.CornerRadius = UDim.new(0, 7)
	sliderCorner.Parent = slider

	local label = Instance.new("TextLabel")
	label.Parent = slider
	label.BackgroundTransparency = 1
	label.Position = UDim2.new(0, 14, 0, 0)
	label.Size = UDim2.new(1, -110, 1, 0)
	label.Font = Enum.Font.Gotham
	label.Text = text
	label.TextColor3 = Color3.fromRGB(240, 240, 245)
	label.TextSize = 13
	label.TextXAlignment = Enum.TextXAlignment.Left

	local valuebox = Instance.new("TextBox")
	valuebox.Parent = slider
	valuebox.BorderSizePixel = 0
	valuebox.BackgroundColor3 = Color3.fromRGB(45, 45, 52)
	valuebox.Size = UDim2.new(0, 50, 0, 22)
	valuebox.Position = UDim2.new(1, -58, 0.5, -11)
	valuebox.Text = utils.FormatNumber(default)
	valuebox.TextColor3 = Color3.fromRGB(255, 255, 255)
	valuebox.TextSize = 12
	valuebox.Font = Enum.Font.Gotham
	valuebox.TextScaled = false
	valuebox.TextXAlignment = Enum.TextXAlignment.Center
	valuebox.ClearTextOnFocus = false
	
	local valueCorner = Instance.new("UICorner")
	valueCorner.CornerRadius = UDim.new(0, 6)
	valueCorner.Parent = valuebox

	local value = default
	local stepsize = step or 1
	if type(step) == "function" then
		callback = step
		stepsize = 1
	elseif type(callback) == "number" then
		stepsize = callback
		callback = step
	end

	local function updateval(newvalue)
		value = math.clamp(newvalue, min, max)
		value = math.floor(value / stepsize + 0.5) * stepsize
		valuebox.Text = utils.FormatNumber(value)
		if callback then 
			callback(value) 
		end
	end

	valuebox.FocusLost:Connect(function(enterpressed)
		local newvalue = tonumber(valuebox.Text)
		if newvalue then
			updateval(newvalue)
		else
			valuebox.Text = utils.FormatNumber(value)
		end
	end)

	return {
		Instance = slider,
		SetValue = function(newvalue)
			updateval(newvalue)
		end,
		GetValue = function()
			return value
		end
	}
end

return sliders
