local utils = loadstring(game:HttpGet("https://raw.githubusercontent.com/Number2189/UI/refs/heads/main/Utils"))()

local toggles = {}

function toggles.Create(parent, theme, text, default, callback)
	local toggled = default or false

	local toggleFrame = Instance.new("Frame")
	toggleFrame.Name = "Toggle"
	toggleFrame.Size = UDim2.new(1, 0, 0, 36)
	toggleFrame.BackgroundColor3 = Color3.fromRGB(28, 28, 33)
	toggleFrame.BorderSizePixel = 0
	toggleFrame.Parent = parent

	local toggleCorner = Instance.new("UICorner")
	toggleCorner.CornerRadius = UDim.new(0, 7)
	toggleCorner.Parent = toggleFrame

	local toggleLabel = Instance.new("TextLabel")
	toggleLabel.Name = "Label"
	toggleLabel.Size = UDim2.new(1, -64, 1, 0)
	toggleLabel.Position = UDim2.new(0, 14, 0, 0)
	toggleLabel.BackgroundTransparency = 1
	toggleLabel.Text = text
	toggleLabel.TextColor3 = Color3.fromRGB(240, 240, 245)
	toggleLabel.TextSize = 13
	toggleLabel.Font = Enum.Font.Gotham
	toggleLabel.TextXAlignment = Enum.TextXAlignment.Left
	toggleLabel.Parent = toggleFrame

	local toggleButton = Instance.new("Frame")
	toggleButton.Name = "ToggleButton"
	toggleButton.Size = UDim2.new(0, 40, 0, 22)
	toggleButton.Position = UDim2.new(1, -50, 0.5, -11)
	toggleButton.BackgroundColor3 = toggled and Color3.fromRGB(138, 43, 226) or Color3.fromRGB(45, 45, 52)
	toggleButton.BorderSizePixel = 0
	toggleButton.Parent = toggleFrame

	local toggleButtonCorner = Instance.new("UICorner")
	toggleButtonCorner.CornerRadius = UDim.new(1, 0)
	toggleButtonCorner.Parent = toggleButton

	local toggleCircle = Instance.new("Frame")
	toggleCircle.Name = "Circle"
	toggleCircle.Size = UDim2.new(0, 18, 0, 18)
	toggleCircle.Position = toggled and UDim2.new(1, -20, 0.5, -9) or UDim2.new(0, 2, 0.5, -9)
	toggleCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	toggleCircle.BorderSizePixel = 0
	toggleCircle.Parent = toggleButton

	local circleCorner = Instance.new("UICorner")
	circleCorner.CornerRadius = UDim.new(1, 0)
	circleCorner.Parent = toggleCircle

	local clickDetector = Instance.new("TextButton")
	clickDetector.Size = UDim2.new(1, 0, 1, 0)
	clickDetector.BackgroundTransparency = 1
	clickDetector.Text = ""
	clickDetector.Parent = toggleFrame

	clickDetector.MouseEnter:Connect(function()
		utils.Tween(toggleFrame, {BackgroundColor3 = Color3.fromRGB(35, 35, 42)}, 0.2):Play()
	end)

	clickDetector.MouseLeave:Connect(function()
		utils.Tween(toggleFrame, {BackgroundColor3 = Color3.fromRGB(28, 28, 33)}, 0.2):Play()
	end)

	clickDetector.MouseButton1Click:Connect(function()
		toggled = not toggled
		utils.Tween(toggleButton, {BackgroundColor3 = toggled and Color3.fromRGB(138, 43, 226) or Color3.fromRGB(45, 45, 52)}, 0.25):Play()
		utils.Tween(toggleCircle, {Position = toggled and UDim2.new(1, -20, 0.5, -9) or UDim2.new(0, 2, 0.5, -9)}, 0.25):Play()

		if callback then 
			callback(toggled) 
		end
	end)

	return {
		Instance = toggleFrame,
		SetValue = function(value)
			toggled = value
			utils.Tween(toggleButton, {BackgroundColor3 = toggled and Color3.fromRGB(138, 43, 226) or Color3.fromRGB(45, 45, 52)}, 0.25):Play()
			utils.Tween(toggleCircle, {Position = toggled and UDim2.new(1, -20, 0.5, -9) or UDim2.new(0, 2, 0.5, -9)}, 0.25):Play()
		end,
		GetValue = function()
			return toggled
		end
	}
end

return toggles
